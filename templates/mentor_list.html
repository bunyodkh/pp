{% extends 'layouts/base.html' %}
{% load static %}

{% load widget_tweaks %}
{% load i18n %}


{% block content %}

<!-- MENTORS LIST-->
<section class="section">
    <section class="section-content" id="mentors">

        <div class="section-heading">
            <h1>Наши</h1>
            <div class="styled-heading">
                <h2>ментора</h2> 
            </div>
        </div>


        {% if mentors %}
            <ul class="lg-card-list">
                {% for mentor in mentors %}
                    <li class="lg-card">
                        <img src="{% if mentor.photo %}{{ mentor.photo.url }}{% endif %}" alt="Mentor Photo">
                        <h2>{{ mentor.full_name }}</h2>
                        <p>{{ mentor.position }}, {{ mentor.organization }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <div class="no-mentors-message">
                <p>На данный момент менторов нет.</p>
            </div>
        {% endif %}
        
    </section>
</section>

<!-- FORM  -->
<section class="section">
    <section class="section-content">
        <div class="section-heading">
            <h1>Хотите стать</h1>
            <div class="styled-heading">
                <h2>партнером?</h2> 
            </div>
        </div>

        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </section>
    <section class="section-content">
        {% if success %}
            <div class="submission-success">
                <div class="submission-success-icon">
                    <img src="{% static 'images/application-success-icon.png '%}" alt="Submission Success Icon">
                </div>
                
                <div class="submission-success-text">
                    <p>Ваша заявка принята,мы скоро свяжемся с вами!</p>
                </div>
            </div>
        {% else %}
            <div class="form-container">
                <form id="be-mentor" class="form" method="post" action="{% url 'mentors:mentor-add'%}">
                    {% csrf_token %}
                    <div class="form-input-group">
                        <div class="input-container">
                            <label for="id_full_name">{{ form.full_name.label }}*</label>
                            {% if form.full_name.errors %}
                                {{ form.full_name|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.full_name.errors.0 }}</p>
                            {% else %}
                                {{ form.full_name }}
                            {% endif %}         
                        </div>  
                
                        <div class="input-container">
                            <label for="id_organization">{{ form.organization.label }}*</label>
                            {% if form.organization.errors %}
                                {{ form.organization|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.organization.errors.0 }}</p>
                            {% else %}
                                {{ form.organization }}
                            {% endif %}
                        </div>

                        <div class="input-container">
                            <label for="id_position">{{ form.position.label }}*</label>
                            {% if form.position.errors %}
                                {{ form.position|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.position.errors.0 }}</p>
                            {% else %}
                                {{ form.position }}
                            {% endif %}
                        </div>

                        <div class="input-container">
                            <label for="id_tg">{{ form.tg.label }}*</label>
                            {% if form.tg.errors %}
                                {{ form.tg|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.tg.errors.0 }}</p>
                            {% else %}
                                {{ form.tg }}
                            {% endif %}
                        </div>

                        <div class="input-container">
                            <label for="id_phone">{{ form.phone.label }}*</label>
                            {% if form.phone.errors %}
                                {{ form.phone|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.phone.errors.0 }}</p>
                            {% else %}
                                {{ form.phone }}
                            {% endif %}
                        </div>

                        <div class="input-container">
                            <label for="id_linkedin_profile">{{ form.linkedin_profile.label }}*</label>
                            {% if form.linkedin_profile.errors %}
                                {{ form.linkedin_profile|add_class:"error-input" }}
                                <p class="input-error-message">{{ form.linkedin_profile.errors.0 }}</p>
                            {% else %}
                                {{ form.linkedin_profile }}
                            {% endif %}
                        </div>
                    </div>

                    <div class="form-input-group">
                        <label for="id_reason">{{ form.reason.label }}</label>
                        {{ form.reason }}
                    </div>
                    <button type="submit" class="btn submit-btn">Отправить заявку</button>
                </form>
            </div>
        {% endif %}
    </section>  
</section>

{% endblock %}
